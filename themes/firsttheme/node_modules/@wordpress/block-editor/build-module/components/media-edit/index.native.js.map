{"version":3,"sources":["@wordpress/block-editor/src/components/media-edit/index.native.js"],"names":["React","requestMediaEditor","mediaSources","__","Picker","update","MEDIA_TYPE_IMAGE","MEDIA_EDITOR","editOption","id","value","label","types","icon","replaceOption","deviceLibrary","options","MediaEdit","props","onPickerPresent","bind","onPickerSelect","picker","presentPicker","onSelect","multiple","source","uri","media","openReplaceMediaOptions","mediaOptions","instance","getMediaOptionsItems","render","open","Component"],"mappings":";;;;;;;;AAAA;;;AAGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACCC,kBADD,EAECC,YAFD,QAGO,+BAHP;AAKA;;;;AAGA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,SAASC,MAAT,QAAuB,kBAAvB;AAEA,OAAO,IAAMC,gBAAgB,GAAG,OAAzB;AAEP,OAAO,IAAMC,YAAY,GAAG,cAArB;AAEP,IAAMC,UAAU,GAAG;AAClBC,EAAAA,EAAE,EAAEF,YADc;AAElBG,EAAAA,KAAK,EAAEH,YAFW;AAGlBI,EAAAA,KAAK,EAAER,EAAE,CAAE,MAAF,CAHS;AAIlBS,EAAAA,KAAK,EAAE,CAAEN,gBAAF,CAJW;AAKlBO,EAAAA,IAAI,EAAE;AALY,CAAnB;AAQA,IAAMC,aAAa,GAAG;AACrBL,EAAAA,EAAE,EAAEP,YAAY,CAACa,aADI;AAErBL,EAAAA,KAAK,EAAER,YAAY,CAACa,aAFC;AAGrBJ,EAAAA,KAAK,EAAER,EAAE,CAAE,SAAF,CAHY;AAIrBS,EAAAA,KAAK,EAAE,CAAEN,gBAAF,CAJc;AAKrBO,EAAAA,IAAI,EAAER;AALe,CAAtB;AAQA,IAAMW,OAAO,GAAG,CAAER,UAAF,EAAcM,aAAd,CAAhB;AAEA,WAAaG,SAAb;AAAA;AAAA;AAAA;;AACC,qBAAaC,KAAb,EAAqB;AAAA;;AAAA;;AACpB,mFAAOA,KAAP;AACA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB;AACA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB;AAHoB;AAIpB;;AALF;AAAA;AAAA,2CAOwB;AACtB,aAAOJ,OAAP;AACA;AATF;AAAA;AAAA,sCAWmB;AACjB,UAAK,KAAKM,MAAV,EAAmB;AAClB,aAAKA,MAAL,CAAYC,aAAZ;AACA;AACD;AAfF;AAAA;AAAA,mCAiBiBb,KAjBjB,EAiByB;AAAA,wBACgB,KAAKQ,KADrB;AAAA,UACfM,QADe,eACfA,QADe;AAAA,6CACLC,QADK;AAAA,UACLA,QADK,qCACM,KADN;;AAGvB,cAASf,KAAT;AACC,aAAKH,YAAL;AACCN,UAAAA,kBAAkB,CAAE,KAAKiB,KAAL,CAAWQ,MAAX,CAAkBC,GAApB,EAAyB,UAAEC,KAAF,EAAa;AACvD,gBAAOH,QAAQ,IAAIG,KAAd,IAA2BA,KAAK,IAAIA,KAAK,CAACnB,EAA/C,EAAsD;AACrDe,cAAAA,QAAQ,CAAEI,KAAF,CAAR;AACA;AACD,WAJiB,CAAlB;AAKA;;AACD;AACC,eAAKV,KAAL,CAAWW,uBAAX;AATF;AAWA;AA/BF;AAAA;AAAA,6BAiCU;AAAA;;AACR,UAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,eACpB,cAAC,MAAD;AACC,UAAA,gBAAgB,MADjB;AAEC,UAAA,GAAG,EAAG,aAAEC,QAAF;AAAA,mBAAkB,MAAI,CAACT,MAAL,GAAcS,QAAhC;AAAA,WAFP;AAGC,UAAA,OAAO,EAAG,MAAI,CAACC,oBAAL,EAHX;AAIC,UAAA,QAAQ,EAAG,MAAI,CAACX;AAJjB,UADoB;AAAA,OAArB;;AASA,aAAO,KAAKH,KAAL,CAAWe,MAAX,CAAmB;AACzBC,QAAAA,IAAI,EAAE,KAAKf,eADc;AAEzBW,QAAAA,YAAY,EAAZA;AAFyB,OAAnB,CAAP;AAIA;AA/CF;;AAAA;AAAA,EAA+B9B,KAAK,CAACmC,SAArC;AAkDA,eAAelB,SAAf","sourcesContent":["/**\n * External dependencies\n */\nimport React from 'react';\nimport {\n\trequestMediaEditor,\n\tmediaSources,\n} from 'react-native-gutenberg-bridge';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Picker } from '@wordpress/components';\nimport { update } from '@wordpress/icons';\n\nexport const MEDIA_TYPE_IMAGE = 'image';\n\nexport const MEDIA_EDITOR = 'MEDIA_EDITOR';\n\nconst editOption = {\n\tid: MEDIA_EDITOR,\n\tvalue: MEDIA_EDITOR,\n\tlabel: __( 'Edit' ),\n\ttypes: [ MEDIA_TYPE_IMAGE ],\n\ticon: 'admin-appearance',\n};\n\nconst replaceOption = {\n\tid: mediaSources.deviceLibrary,\n\tvalue: mediaSources.deviceLibrary,\n\tlabel: __( 'Replace' ),\n\ttypes: [ MEDIA_TYPE_IMAGE ],\n\ticon: update,\n};\n\nconst options = [ editOption, replaceOption ];\n\nexport class MediaEdit extends React.Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.onPickerPresent = this.onPickerPresent.bind( this );\n\t\tthis.onPickerSelect = this.onPickerSelect.bind( this );\n\t}\n\n\tgetMediaOptionsItems() {\n\t\treturn options;\n\t}\n\n\tonPickerPresent() {\n\t\tif ( this.picker ) {\n\t\t\tthis.picker.presentPicker();\n\t\t}\n\t}\n\n\tonPickerSelect( value ) {\n\t\tconst { onSelect, multiple = false } = this.props;\n\n\t\tswitch ( value ) {\n\t\t\tcase MEDIA_EDITOR:\n\t\t\t\trequestMediaEditor( this.props.source.uri, ( media ) => {\n\t\t\t\t\tif ( ( multiple && media ) || ( media && media.id ) ) {\n\t\t\t\t\t\tonSelect( media );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.props.openReplaceMediaOptions();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst mediaOptions = () => (\n\t\t\t<Picker\n\t\t\t\thideCancelButton\n\t\t\t\tref={ ( instance ) => ( this.picker = instance ) }\n\t\t\t\toptions={ this.getMediaOptionsItems() }\n\t\t\t\tonChange={ this.onPickerSelect }\n\t\t\t/>\n\t\t);\n\n\t\treturn this.props.render( {\n\t\t\topen: this.onPickerPresent,\n\t\t\tmediaOptions,\n\t\t} );\n\t}\n}\n\nexport default MediaEdit;\n"]}