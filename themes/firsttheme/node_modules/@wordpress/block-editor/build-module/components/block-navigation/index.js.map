{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/index.js"],"names":["noop","withSelect","withDispatch","NavigableMenu","compose","__","BlockNavigationList","BlockNavigation","rootBlock","rootBlocks","selectedBlockClientId","selectBlock","length","hasHierarchy","clientId","innerBlocks","select","getSelectedBlockClientId","getBlockHierarchyRootClientId","getBlock","getBlocks","dispatch","onSelect"],"mappings":";;AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,iBAAzC;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA;;;;AAGA,OAAOC,mBAAP,MAAgC,QAAhC;;AAEA,SAASC,eAAT,OAKI;AAAA,MAJHC,SAIG,QAJHA,SAIG;AAAA,MAHHC,UAGG,QAHHA,UAGG;AAAA,MAFHC,qBAEG,QAFHA,qBAEG;AAAA,MADHC,WACG,QADHA,WACG;;AACH,MAAK,CAAEF,UAAF,IAAgBA,UAAU,CAACG,MAAX,KAAsB,CAA3C,EAA+C;AAC9C,WAAO,IAAP;AACA;;AAED,MAAMC,YAAY,GACjBL,SAAS,KACPA,SAAS,CAACM,QAAV,KAAuBJ,qBAAvB,IACCF,SAAS,CAACO,WAAV,IAAyBP,SAAS,CAACO,WAAV,CAAsBH,MAAtB,KAAiC,CAFpD,CADV;AAKA,SACC,cAAC,aAAD;AACC,IAAA,IAAI,EAAC,cADN;AAEC,IAAA,SAAS,EAAC;AAFX,KAIC;AAAG,IAAA,SAAS,EAAC;AAAb,KACGP,EAAE,CAAE,kBAAF,CADL,CAJD,EAOGQ,YAAY,IACb,cAAC,mBAAD;AACC,IAAA,MAAM,EAAG,CAAEL,SAAF,CADV;AAEC,IAAA,qBAAqB,EAAGE,qBAFzB;AAGC,IAAA,WAAW,EAAGC,WAHf;AAIC,IAAA,gBAAgB;AAJjB,IARF,EAeG,CAAEE,YAAF,IACD,cAAC,mBAAD;AACC,IAAA,MAAM,EAAGJ,UADV;AAEC,IAAA,qBAAqB,EAAGC,qBAFzB;AAGC,IAAA,WAAW,EAAGC;AAHf,IAhBF,CADD;AAyBA;;AAED,eAAeP,OAAO,CACrBH,UAAU,CAAE,UAAEe,MAAF,EAAc;AAAA,gBAMrBA,MAAM,CAAE,mBAAF,CANe;AAAA,MAExBC,wBAFwB,WAExBA,wBAFwB;AAAA,MAGxBC,6BAHwB,WAGxBA,6BAHwB;AAAA,MAIxBC,QAJwB,WAIxBA,QAJwB;AAAA,MAKxBC,SALwB,WAKxBA,SALwB;;AAOzB,MAAMV,qBAAqB,GAAGO,wBAAwB,EAAtD;AACA,SAAO;AACNR,IAAAA,UAAU,EAAEW,SAAS,EADf;AAENZ,IAAAA,SAAS,EAAEE,qBAAqB,GAC7BS,QAAQ,CACRD,6BAA6B,CAAER,qBAAF,CADrB,CADqB,GAI7B,IANG;AAONA,IAAAA,qBAAqB,EAArBA;AAPM,GAAP;AASA,CAjBS,CADW,EAmBrBR,YAAY,CAAE,UAAEmB,QAAF,SAAqC;AAAA,6BAAvBC,QAAuB;AAAA,MAAvBA,QAAuB,+BAAZtB,IAAY;AAClD,SAAO;AACNW,IAAAA,WADM,uBACOG,QADP,EACkB;AACvBO,MAAAA,QAAQ,CAAE,mBAAF,CAAR,CAAgCV,WAAhC,CAA6CG,QAA7C;AACAQ,MAAAA,QAAQ,CAAER,QAAF,CAAR;AACA;AAJK,GAAP;AAMA,CAPW,CAnBS,CAAP,CA2BZP,eA3BY,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { NavigableMenu } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigationList from './list';\n\nfunction BlockNavigation( {\n\trootBlock,\n\trootBlocks,\n\tselectedBlockClientId,\n\tselectBlock,\n} ) {\n\tif ( ! rootBlocks || rootBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst hasHierarchy =\n\t\trootBlock &&\n\t\t( rootBlock.clientId !== selectedBlockClientId ||\n\t\t\t( rootBlock.innerBlocks && rootBlock.innerBlocks.length !== 0 ) );\n\n\treturn (\n\t\t<NavigableMenu\n\t\t\trole=\"presentation\"\n\t\t\tclassName=\"block-editor-block-navigation__container\"\n\t\t>\n\t\t\t<p className=\"block-editor-block-navigation__label\">\n\t\t\t\t{ __( 'Block navigation' ) }\n\t\t\t</p>\n\t\t\t{ hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ [ rootBlock ] }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ rootBlocks }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</NavigableMenu>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockHierarchyRootClientId,\n\t\t\tgetBlock,\n\t\t\tgetBlocks,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\trootBlocks: getBlocks(),\n\t\t\trootBlock: selectedBlockClientId\n\t\t\t\t? getBlock(\n\t\t\t\t\t\tgetBlockHierarchyRootClientId( selectedBlockClientId )\n\t\t\t\t  )\n\t\t\t\t: null,\n\t\t\tselectedBlockClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onSelect = noop } ) => {\n\t\treturn {\n\t\t\tselectBlock( clientId ) {\n\t\t\t\tdispatch( 'core/block-editor' ).selectBlock( clientId );\n\t\t\t\tonSelect( clientId );\n\t\t\t},\n\t\t};\n\t} )\n)( BlockNavigation );\n"]}