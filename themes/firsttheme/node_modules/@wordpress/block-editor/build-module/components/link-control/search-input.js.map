{"version":3,"sources":["@wordpress/block-editor/src/components/link-control/search-input.js"],"names":["useState","__","Button","LEFT","RIGHT","UP","DOWN","BACKSPACE","ENTER","URLInput","handleLinkControlOnKeyDown","event","keyCode","indexOf","stopPropagation","handleLinkControlOnKeyPress","LinkControlSearchInput","value","onChange","onSelect","renderSuggestions","fetchSuggestions","showInitialSuggestions","selectedSuggestion","setSelectedSuggestion","selectItemHandler","selection","suggestion","selectSuggestionOrCurrentInputValue","preventDefault","url"],"mappings":";;;AAAA;;;AAGA,SAASA,QAAT,QAAyB,oBAAzB;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,EAAtB,EAA0BC,IAA1B,EAAgCC,SAAhC,EAA2CC,KAA3C,QAAwD,qBAAxD;AAEA;;;;AAGA,SAASC,QAAT,QAAyB,KAAzB;;AAEA,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,CAAEC,KAAF,EAAa;AAAA,MACvCC,OADuC,GAC3BD,KAD2B,CACvCC,OADuC;;AAG/C,MAAK,CAAET,IAAF,EAAQG,IAAR,EAAcF,KAAd,EAAqBC,EAArB,EAAyBE,SAAzB,EAAoCC,KAApC,EAA4CK,OAA5C,CAAqDD,OAArD,IAAiE,CAAC,CAAvE,EAA2E;AAC1E;AACAD,IAAAA,KAAK,CAACG,eAAN;AACA;AACD,CAPD;;AASA,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA8B,CAAEJ,KAAF,EAAa;AAAA,MACxCC,OADwC,GAC5BD,KAD4B,CACxCC,OADwC;AAGhDD,EAAAA,KAAK,CAACG,eAAN;;AAEA,MAAKF,OAAO,KAAKJ,KAAjB,EAAyB,CACxB;AACD,CAPD;;AASA,IAAMQ,sBAAsB,GAAG,SAAzBA,sBAAyB,OAOxB;AAAA,MANNC,KAMM,QANNA,KAMM;AAAA,MALNC,QAKM,QALNA,QAKM;AAAA,MAJNC,QAIM,QAJNA,QAIM;AAAA,MAHNC,iBAGM,QAHNA,iBAGM;AAAA,MAFNC,gBAEM,QAFNA,gBAEM;AAAA,MADNC,sBACM,QADNA,sBACM;;AAAA,kBACgDtB,QAAQ,EADxD;AAAA;AAAA,MACEuB,kBADF;AAAA,MACsBC,qBADtB;;AAGN,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAEC,SAAF,EAAaC,UAAb,EAA6B;AACtDT,IAAAA,QAAQ,CAAEQ,SAAF,CAAR;AACAF,IAAAA,qBAAqB,CAAEG,UAAF,CAArB;AACA,GAHD;;AAKA,WAASC,mCAAT,CAA8CjB,KAA9C,EAAsD;AACrD;AACAA,IAAAA,KAAK,CAACkB,cAAN,GAFqD,CAIrD;AACA;;AACAV,IAAAA,QAAQ,CAAEI,kBAAkB,IAAI;AAAEO,MAAAA,GAAG,EAAEb;AAAP,KAAxB,CAAR;AACA;;AAED,SACC;AAAM,IAAA,QAAQ,EAAGW;AAAjB,KACC,cAAC,QAAD;AACC,IAAA,SAAS,EAAC,yCADX;AAEC,IAAA,KAAK,EAAGX,KAFT;AAGC,IAAA,QAAQ,EAAGQ,iBAHZ;AAIC,IAAA,SAAS,EAAG,mBAAEd,KAAF,EAAa;AACxB,UAAKA,KAAK,CAACC,OAAN,KAAkBJ,KAAvB,EAA+B;AAC9B;AACA;;AACDE,MAAAA,0BAA0B,CAAEC,KAAF,CAA1B;AACA,KATF;AAUC,IAAA,UAAU,EAAGI,2BAVd;AAWC,IAAA,WAAW,EAAGd,EAAE,CAAE,oBAAF,CAXjB;AAYC,IAAA,+BAA+B,EAAGmB,iBAZnC;AAaC,IAAA,kCAAkC,EAAGC,gBAbtC;AAcC,IAAA,kCAAkC,EAAG,IAdtC;AAeC,IAAA,oCAAoC,EAAGC;AAfxC,IADD,EAkBC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,cAAC,MAAD;AACC,IAAA,IAAI,EAAC,QADN;AAEC,IAAA,KAAK,EAAGrB,EAAE,CAAE,QAAF,CAFX;AAGC,IAAA,IAAI,EAAC,cAHN;AAIC,IAAA,SAAS,EAAC;AAJX,IADD,CAlBD,CADD;AA6BA,CArDD;;AAuDA,eAAee,sBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { LEFT, RIGHT, UP, DOWN, BACKSPACE, ENTER } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { URLInput } from '../';\n\nconst handleLinkControlOnKeyDown = ( event ) => {\n\tconst { keyCode } = event;\n\n\tif ( [ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ].indexOf( keyCode ) > -1 ) {\n\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\tevent.stopPropagation();\n\t}\n};\n\nconst handleLinkControlOnKeyPress = ( event ) => {\n\tconst { keyCode } = event;\n\n\tevent.stopPropagation();\n\n\tif ( keyCode === ENTER ) {\n\t}\n};\n\nconst LinkControlSearchInput = ( {\n\tvalue,\n\tonChange,\n\tonSelect,\n\trenderSuggestions,\n\tfetchSuggestions,\n\tshowInitialSuggestions,\n} ) => {\n\tconst [ selectedSuggestion, setSelectedSuggestion ] = useState();\n\n\tconst selectItemHandler = ( selection, suggestion ) => {\n\t\tonChange( selection );\n\t\tsetSelectedSuggestion( suggestion );\n\t};\n\n\tfunction selectSuggestionOrCurrentInputValue( event ) {\n\t\t// Avoid default forms behavior, since it's being handled custom here.\n\t\tevent.preventDefault();\n\n\t\t// Interpret the selected value as either the selected suggestion, if\n\t\t// exists, or otherwise the current input value as entered.\n\t\tonSelect( selectedSuggestion || { url: value } );\n\t}\n\n\treturn (\n\t\t<form onSubmit={ selectSuggestionOrCurrentInputValue }>\n\t\t\t<URLInput\n\t\t\t\tclassName=\"block-editor-link-control__search-input\"\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ selectItemHandler }\n\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\tif ( event.keyCode === ENTER ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\thandleLinkControlOnKeyDown( event );\n\t\t\t\t} }\n\t\t\t\tonKeyPress={ handleLinkControlOnKeyPress }\n\t\t\t\tplaceholder={ __( 'Search or type url' ) }\n\t\t\t\t__experimentalRenderSuggestions={ renderSuggestions }\n\t\t\t\t__experimentalFetchLinkSuggestions={ fetchSuggestions }\n\t\t\t\t__experimentalHandleURLSuggestions={ true }\n\t\t\t\t__experimentalShowInitialSuggestions={ showInitialSuggestions }\n\t\t\t/>\n\t\t\t<div className=\"block-editor-link-control__search-actions\">\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tlabel={ __( 'Submit' ) }\n\t\t\t\t\ticon=\"editor-break\"\n\t\t\t\t\tclassName=\"block-editor-link-control__search-submit\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default LinkControlSearchInput;\n"]}