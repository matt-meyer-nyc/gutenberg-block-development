{"version":3,"sources":["@wordpress/block-editor/src/components/default-block-appender/index.native.js"],"names":["TouchableWithoutFeedback","View","__","RichText","compose","decodeEntities","withSelect","withDispatch","getDefaultBlockName","styles","DefaultBlockAppender","isLocked","isVisible","onAppend","placeholder","containerStyle","value","blockHolder","select","ownProps","getBlockCount","getBlockName","isBlockValid","getTemplateLock","isEmpty","rootClientId","isLastBlockDefault","lastBlockClientId","isLastBlockValid","dispatch","insertDefaultBlock","startTyping","undefined"],"mappings":";;AAAA;;;AAGA,SAASA,wBAAT,EAAmCC,IAAnC,QAA+C,cAA/C;AAEA;;;;AAGA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,QAAT,QAAyB,yBAAzB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,iBAAzC;AACA,SAASC,mBAAT,QAAoC,mBAApC;AAEA;;;;AAGA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,OAAO,SAASC,oBAAT,OAMH;AAAA,MALHC,QAKG,QALHA,QAKG;AAAA,MAJHC,SAIG,QAJHA,SAIG;AAAA,MAHHC,QAGG,QAHHA,QAGG;AAAA,MAFHC,WAEG,QAFHA,WAEG;AAAA,MADHC,cACG,QADHA,cACG;;AACH,MAAKJ,QAAQ,IAAI,CAAEC,SAAnB,EAA+B;AAC9B,WAAO,IAAP;AACA;;AAED,MAAMI,KAAK,GACV,OAAOF,WAAP,KAAuB,QAAvB,GACGT,cAAc,CAAES,WAAF,CADjB,GAEGZ,EAAE,CAAE,gBAAF,CAHN;AAKA,SACC,cAAC,wBAAD;AAA0B,IAAA,OAAO,EAAGW;AAApC,KACC,cAAC,IAAD;AACC,IAAA,KAAK,EAAG,CAAEJ,MAAM,CAACQ,WAAT,EAAsBF,cAAtB,CADT;AAEC,IAAA,aAAa,EAAC;AAFf,KAIC,cAAC,QAAD;AAAU,IAAA,WAAW,EAAGC,KAAxB;AAAgC,IAAA,QAAQ,EAAG,oBAAM,CAAE;AAAnD,IAJD,CADD,CADD;AAUA;AAED,eAAeZ,OAAO,CACrBE,UAAU,CAAE,UAAEY,MAAF,EAAUC,QAAV,EAAwB;AAAA,gBAM/BD,MAAM,CAAE,mBAAF,CANyB;AAAA,MAElCE,aAFkC,WAElCA,aAFkC;AAAA,MAGlCC,YAHkC,WAGlCA,YAHkC;AAAA,MAIlCC,YAJkC,WAIlCA,YAJkC;AAAA,MAKlCC,eALkC,WAKlCA,eALkC;;AAQnC,MAAMC,OAAO,GAAG,CAAEJ,aAAa,CAAED,QAAQ,CAACM,YAAX,CAA/B;AACA,MAAMC,kBAAkB,GACvBL,YAAY,CAAEF,QAAQ,CAACQ,iBAAX,CAAZ,KACAnB,mBAAmB,EAFpB;AAGA,MAAMoB,gBAAgB,GAAGN,YAAY,CAAEH,QAAQ,CAACQ,iBAAX,CAArC;AAEA,SAAO;AACNf,IAAAA,SAAS,EAAEY,OAAO,IAAI,CAAEE,kBAAb,IAAmC,CAAEE,gBAD1C;AAENjB,IAAAA,QAAQ,EAAE,CAAC,CAAEY,eAAe,CAAEJ,QAAQ,CAACM,YAAX;AAFtB,GAAP;AAIA,CAlBS,CADW,EAoBrBlB,YAAY,CAAE,UAAEsB,QAAF,EAAYV,QAAZ,EAA0B;AAAA,kBACKU,QAAQ,CACnD,mBADmD,CADb;AAAA,MAC/BC,kBAD+B,aAC/BA,kBAD+B;AAAA,MACXC,WADW,aACXA,WADW;;AAKvC,SAAO;AACNlB,IAAAA,QADM,sBACK;AAAA,UACFY,YADE,GACeN,QADf,CACFM,YADE;AAGVK,MAAAA,kBAAkB,CAAEE,SAAF,EAAaP,YAAb,CAAlB;AACAM,MAAAA,WAAW;AACX;AANK,GAAP;AAQA,CAbW,CApBS,CAAP,CAkCZrB,oBAlCY,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { TouchableWithoutFeedback, View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RichText } from '@wordpress/block-editor';\nimport { compose } from '@wordpress/compose';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nexport function DefaultBlockAppender( {\n\tisLocked,\n\tisVisible,\n\tonAppend,\n\tplaceholder,\n\tcontainerStyle,\n} ) {\n\tif ( isLocked || ! isVisible ) {\n\t\treturn null;\n\t}\n\n\tconst value =\n\t\ttypeof placeholder === 'string'\n\t\t\t? decodeEntities( placeholder )\n\t\t\t: __( 'Start writingâ€¦' );\n\n\treturn (\n\t\t<TouchableWithoutFeedback onPress={ onAppend }>\n\t\t\t<View\n\t\t\t\tstyle={ [ styles.blockHolder, containerStyle ] }\n\t\t\t\tpointerEvents=\"box-only\"\n\t\t\t>\n\t\t\t\t<RichText placeholder={ value } onChange={ () => {} } />\n\t\t\t</View>\n\t\t</TouchableWithoutFeedback>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, ownProps ) => {\n\t\tconst {\n\t\t\tgetBlockCount,\n\t\t\tgetBlockName,\n\t\t\tisBlockValid,\n\t\t\tgetTemplateLock,\n\t\t} = select( 'core/block-editor' );\n\n\t\tconst isEmpty = ! getBlockCount( ownProps.rootClientId );\n\t\tconst isLastBlockDefault =\n\t\t\tgetBlockName( ownProps.lastBlockClientId ) ===\n\t\t\tgetDefaultBlockName();\n\t\tconst isLastBlockValid = isBlockValid( ownProps.lastBlockClientId );\n\n\t\treturn {\n\t\t\tisVisible: isEmpty || ! isLastBlockDefault || ! isLastBlockValid,\n\t\t\tisLocked: !! getTemplateLock( ownProps.rootClientId ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst { insertDefaultBlock, startTyping } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn {\n\t\t\tonAppend() {\n\t\t\t\tconst { rootClientId } = ownProps;\n\n\t\t\t\tinsertDefaultBlock( undefined, rootClientId );\n\t\t\t\tstartTyping();\n\t\t\t},\n\t\t};\n\t} )\n)( DefaultBlockAppender );\n"]}