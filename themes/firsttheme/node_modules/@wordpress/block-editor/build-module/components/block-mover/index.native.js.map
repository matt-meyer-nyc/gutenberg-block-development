{"version":3,"sources":["@wordpress/block-editor/src/components/block-mover/index.native.js"],"names":["first","last","partial","castArray","ToolbarButton","__","sprintf","withSelect","withDispatch","withInstanceId","compose","arrowUp","arrowDown","BlockMover","isFirst","isLast","isLocked","onMoveDown","onMoveUp","firstIndex","rootClientId","hint","select","clientIds","getBlockIndex","getTemplateLock","getBlockRootClientId","getBlockOrder","normalizedClientIds","firstClientId","blockOrder","lastIndex","length","dispatch","moveBlocksDown","moveBlocksUp"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { first, last, partial, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { ToolbarButton } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport { arrowUp, arrowDown } from '@wordpress/icons';\n\nconst BlockMover = ( {\n\tisFirst,\n\tisLast,\n\tisLocked,\n\tonMoveDown,\n\tonMoveUp,\n\tfirstIndex,\n\trootClientId,\n} ) => {\n\tif ( isLocked || ( isFirst && isLast && ! rootClientId ) ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={\n\t\t\t\t\t! isFirst\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\t\t\t\t\t\t\t\t__( 'Move block up from row %1$s to row %2$s' ),\n\t\t\t\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\t\t\t\tfirstIndex\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Move block up' )\n\t\t\t\t}\n\t\t\t\tisDisabled={ isFirst }\n\t\t\t\tonClick={ onMoveUp }\n\t\t\t\ticon={ arrowUp }\n\t\t\t\textraProps={ { hint: __( 'Double tap to move the block up' ) } }\n\t\t\t/>\n\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={\n\t\t\t\t\t! isLast\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Move block down from row %1$s to row %2$s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\t\t\t\tfirstIndex + 2\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Move block down' )\n\t\t\t\t}\n\t\t\t\tisDisabled={ isLast }\n\t\t\t\tonClick={ onMoveDown }\n\t\t\t\ticon={ arrowDown }\n\t\t\t\textraProps={ {\n\t\t\t\t\thint: __( 'Double tap to move the block down' ),\n\t\t\t\t} }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlockIndex,\n\t\t\tgetTemplateLock,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockOrder,\n\t\t} = select( 'core/block-editor' );\n\t\tconst normalizedClientIds = castArray( clientIds );\n\t\tconst firstClientId = first( normalizedClientIds );\n\t\tconst rootClientId = getBlockRootClientId( firstClientId );\n\t\tconst blockOrder = getBlockOrder( rootClientId );\n\t\tconst firstIndex = getBlockIndex( firstClientId, rootClientId );\n\t\tconst lastIndex = getBlockIndex(\n\t\t\tlast( normalizedClientIds ),\n\t\t\trootClientId\n\t\t);\n\n\t\treturn {\n\t\t\tfirstIndex,\n\t\t\tisFirst: firstIndex === 0,\n\t\t\tisLast: lastIndex === blockOrder.length - 1,\n\t\t\tisLocked: getTemplateLock( rootClientId ) === 'all',\n\t\t\trootClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, rootClientId } ) => {\n\t\tconst { moveBlocksDown, moveBlocksUp } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\t\treturn {\n\t\t\tonMoveDown: partial( moveBlocksDown, clientIds, rootClientId ),\n\t\t\tonMoveUp: partial( moveBlocksUp, clientIds, rootClientId ),\n\t\t};\n\t} ),\n\twithInstanceId\n)( BlockMover );\n"]}