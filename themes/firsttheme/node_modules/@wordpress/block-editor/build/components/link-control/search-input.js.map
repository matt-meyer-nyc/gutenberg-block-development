{"version":3,"sources":["@wordpress/block-editor/src/components/link-control/search-input.js"],"names":["handleLinkControlOnKeyDown","event","keyCode","LEFT","DOWN","RIGHT","UP","BACKSPACE","ENTER","indexOf","stopPropagation","handleLinkControlOnKeyPress","LinkControlSearchInput","value","onChange","onSelect","renderSuggestions","fetchSuggestions","showInitialSuggestions","selectedSuggestion","setSelectedSuggestion","selectItemHandler","selection","suggestion","selectSuggestionOrCurrentInputValue","preventDefault","url"],"mappings":";;;;;;;;;AAGA;;;;AACA;;AACA;;AACA;;AAKA;;AAXA;;;;AAQA;;;AAKA,IAAMA,0BAA0B,GAAG,SAA7BA,0BAA6B,CAAEC,KAAF,EAAa;AAAA,MACvCC,OADuC,GAC3BD,KAD2B,CACvCC,OADuC;;AAG/C,MAAK,CAAEC,cAAF,EAAQC,cAAR,EAAcC,eAAd,EAAqBC,YAArB,EAAyBC,mBAAzB,EAAoCC,eAApC,EAA4CC,OAA5C,CAAqDP,OAArD,IAAiE,CAAC,CAAvE,EAA2E;AAC1E;AACAD,IAAAA,KAAK,CAACS,eAAN;AACA;AACD,CAPD;;AASA,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA8B,CAAEV,KAAF,EAAa;AAAA,MACxCC,OADwC,GAC5BD,KAD4B,CACxCC,OADwC;AAGhDD,EAAAA,KAAK,CAACS,eAAN;;AAEA,MAAKR,OAAO,KAAKM,eAAjB,EAAyB,CACxB;AACD,CAPD;;AASA,IAAMI,sBAAsB,GAAG,SAAzBA,sBAAyB,OAOxB;AAAA,MANNC,KAMM,QANNA,KAMM;AAAA,MALNC,QAKM,QALNA,QAKM;AAAA,MAJNC,QAIM,QAJNA,QAIM;AAAA,MAHNC,iBAGM,QAHNA,iBAGM;AAAA,MAFNC,gBAEM,QAFNA,gBAEM;AAAA,MADNC,sBACM,QADNA,sBACM;;AAAA,kBACgD,wBADhD;AAAA;AAAA,MACEC,kBADF;AAAA,MACsBC,qBADtB;;AAGN,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAEC,SAAF,EAAaC,UAAb,EAA6B;AACtDT,IAAAA,QAAQ,CAAEQ,SAAF,CAAR;AACAF,IAAAA,qBAAqB,CAAEG,UAAF,CAArB;AACA,GAHD;;AAKA,WAASC,mCAAT,CAA8CvB,KAA9C,EAAsD;AACrD;AACAA,IAAAA,KAAK,CAACwB,cAAN,GAFqD,CAIrD;AACA;;AACAV,IAAAA,QAAQ,CAAEI,kBAAkB,IAAI;AAAEO,MAAAA,GAAG,EAAEb;AAAP,KAAxB,CAAR;AACA;;AAED,SACC;AAAM,IAAA,QAAQ,EAAGW;AAAjB,KACC,4BAAC,UAAD;AACC,IAAA,SAAS,EAAC,yCADX;AAEC,IAAA,KAAK,EAAGX,KAFT;AAGC,IAAA,QAAQ,EAAGQ,iBAHZ;AAIC,IAAA,SAAS,EAAG,mBAAEpB,KAAF,EAAa;AACxB,UAAKA,KAAK,CAACC,OAAN,KAAkBM,eAAvB,EAA+B;AAC9B;AACA;;AACDR,MAAAA,0BAA0B,CAAEC,KAAF,CAA1B;AACA,KATF;AAUC,IAAA,UAAU,EAAGU,2BAVd;AAWC,IAAA,WAAW,EAAG,cAAI,oBAAJ,CAXf;AAYC,IAAA,+BAA+B,EAAGK,iBAZnC;AAaC,IAAA,kCAAkC,EAAGC,gBAbtC;AAcC,IAAA,kCAAkC,EAAG,IAdtC;AAeC,IAAA,oCAAoC,EAAGC;AAfxC,IADD,EAkBC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,4BAAC,kBAAD;AACC,IAAA,IAAI,EAAC,QADN;AAEC,IAAA,KAAK,EAAG,cAAI,QAAJ,CAFT;AAGC,IAAA,IAAI,EAAC,cAHN;AAIC,IAAA,SAAS,EAAC;AAJX,IADD,CAlBD,CADD;AA6BA,CArDD;;eAuDeN,sB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { LEFT, RIGHT, UP, DOWN, BACKSPACE, ENTER } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { URLInput } from '../';\n\nconst handleLinkControlOnKeyDown = ( event ) => {\n\tconst { keyCode } = event;\n\n\tif ( [ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ].indexOf( keyCode ) > -1 ) {\n\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\tevent.stopPropagation();\n\t}\n};\n\nconst handleLinkControlOnKeyPress = ( event ) => {\n\tconst { keyCode } = event;\n\n\tevent.stopPropagation();\n\n\tif ( keyCode === ENTER ) {\n\t}\n};\n\nconst LinkControlSearchInput = ( {\n\tvalue,\n\tonChange,\n\tonSelect,\n\trenderSuggestions,\n\tfetchSuggestions,\n\tshowInitialSuggestions,\n} ) => {\n\tconst [ selectedSuggestion, setSelectedSuggestion ] = useState();\n\n\tconst selectItemHandler = ( selection, suggestion ) => {\n\t\tonChange( selection );\n\t\tsetSelectedSuggestion( suggestion );\n\t};\n\n\tfunction selectSuggestionOrCurrentInputValue( event ) {\n\t\t// Avoid default forms behavior, since it's being handled custom here.\n\t\tevent.preventDefault();\n\n\t\t// Interpret the selected value as either the selected suggestion, if\n\t\t// exists, or otherwise the current input value as entered.\n\t\tonSelect( selectedSuggestion || { url: value } );\n\t}\n\n\treturn (\n\t\t<form onSubmit={ selectSuggestionOrCurrentInputValue }>\n\t\t\t<URLInput\n\t\t\t\tclassName=\"block-editor-link-control__search-input\"\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ selectItemHandler }\n\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\tif ( event.keyCode === ENTER ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\thandleLinkControlOnKeyDown( event );\n\t\t\t\t} }\n\t\t\t\tonKeyPress={ handleLinkControlOnKeyPress }\n\t\t\t\tplaceholder={ __( 'Search or type url' ) }\n\t\t\t\t__experimentalRenderSuggestions={ renderSuggestions }\n\t\t\t\t__experimentalFetchLinkSuggestions={ fetchSuggestions }\n\t\t\t\t__experimentalHandleURLSuggestions={ true }\n\t\t\t\t__experimentalShowInitialSuggestions={ showInitialSuggestions }\n\t\t\t/>\n\t\t\t<div className=\"block-editor-link-control__search-actions\">\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tlabel={ __( 'Submit' ) }\n\t\t\t\t\ticon=\"editor-break\"\n\t\t\t\t\tclassName=\"block-editor-link-control__search-submit\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default LinkControlSearchInput;\n"]}