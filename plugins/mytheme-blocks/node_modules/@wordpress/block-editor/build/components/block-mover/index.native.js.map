{"version":3,"sources":["@wordpress/block-editor/src/components/block-mover/index.native.js"],"names":["BlockMover","isFirst","isLast","isLocked","onMoveDown","onMoveUp","firstIndex","rootClientId","arrowUp","hint","arrowDown","select","clientIds","getBlockIndex","getTemplateLock","getBlockRootClientId","getBlockOrder","normalizedClientIds","firstClientId","blockOrder","lastIndex","length","dispatch","moveBlocksDown","moveBlocksUp","withInstanceId"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { first, last, partial, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { ToolbarButton } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport { arrowUp, arrowDown } from '@wordpress/icons';\n\nconst BlockMover = ( {\n\tisFirst,\n\tisLast,\n\tisLocked,\n\tonMoveDown,\n\tonMoveUp,\n\tfirstIndex,\n\trootClientId,\n} ) => {\n\tif ( isLocked || ( isFirst && isLast && ! rootClientId ) ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={\n\t\t\t\t\t! isFirst\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\t\t\t\t\t\t\t\t__( 'Move block up from row %1$s to row %2$s' ),\n\t\t\t\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\t\t\t\tfirstIndex\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Move block up' )\n\t\t\t\t}\n\t\t\t\tisDisabled={ isFirst }\n\t\t\t\tonClick={ onMoveUp }\n\t\t\t\ticon={ arrowUp }\n\t\t\t\textraProps={ { hint: __( 'Double tap to move the block up' ) } }\n\t\t\t/>\n\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={\n\t\t\t\t\t! isLast\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Move block down from row %1$s to row %2$s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\t\t\t\tfirstIndex + 2\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Move block down' )\n\t\t\t\t}\n\t\t\t\tisDisabled={ isLast }\n\t\t\t\tonClick={ onMoveDown }\n\t\t\t\ticon={ arrowDown }\n\t\t\t\textraProps={ {\n\t\t\t\t\thint: __( 'Double tap to move the block down' ),\n\t\t\t\t} }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlockIndex,\n\t\t\tgetTemplateLock,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockOrder,\n\t\t} = select( 'core/block-editor' );\n\t\tconst normalizedClientIds = castArray( clientIds );\n\t\tconst firstClientId = first( normalizedClientIds );\n\t\tconst rootClientId = getBlockRootClientId( firstClientId );\n\t\tconst blockOrder = getBlockOrder( rootClientId );\n\t\tconst firstIndex = getBlockIndex( firstClientId, rootClientId );\n\t\tconst lastIndex = getBlockIndex(\n\t\t\tlast( normalizedClientIds ),\n\t\t\trootClientId\n\t\t);\n\n\t\treturn {\n\t\t\tfirstIndex,\n\t\t\tisFirst: firstIndex === 0,\n\t\t\tisLast: lastIndex === blockOrder.length - 1,\n\t\t\tisLocked: getTemplateLock( rootClientId ) === 'all',\n\t\t\trootClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, rootClientId } ) => {\n\t\tconst { moveBlocksDown, moveBlocksUp } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\t\treturn {\n\t\t\tonMoveDown: partial( moveBlocksDown, clientIds, rootClientId ),\n\t\t\tonMoveUp: partial( moveBlocksUp, clientIds, rootClientId ),\n\t\t};\n\t} ),\n\twithInstanceId\n)( BlockMover );\n"]}